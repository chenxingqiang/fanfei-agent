app:
  description: å®ç°ä¾›åº”å•†ä¼˜å…ˆçº§æ’åºã€è‡ªåŠ¨ç”Ÿæˆè¯¢ä»·æ¨¡æ¿å¹¶ç›‘æ§å®¢æœå›å¤
  icon: ğŸ’¬
  icon_background: '#F0F8E8'
  mode: workflow
  name: ä¾›åº”å•†æ²Ÿé€šä¸ä¿¡æ¯ç¡®è®¤æ¨¡å—

kind: app
version: 0.1.3

workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: llm
      id: 1735721434567-source-1735721434568-target
      source: '1735721434567'
      sourceHandle: source
      target: '1735721434568'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: 1735721434568-source-1735721434569-target
      source: '1735721434568'
      sourceHandle: source
      target: '1735721434569'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: http-request
      id: 1735721434569-source-1735721434570-target
      source: '1735721434569'
      sourceHandle: source
      target: '1735721434570'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: if-else
      id: 1735721434570-source-1735721434571-target
      source: '1735721434570'
      sourceHandle: source
      target: '1735721434571'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1735721434571-true-1735721434572-target
      source: '1735721434571'
      sourceHandle: 'true'
      target: '1735721434572'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: if-else
        targetType: llm
      id: 1735721434571-false-1735721434573-target
      source: '1735721434571'
      sourceHandle: 'false'
      target: '1735721434573'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: end
      id: 1735721434572-source-1735721434574-target
      source: '1735721434572'
      sourceHandle: source
      target: '1735721434574'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: end
      id: 1735721434573-source-1735721434574-target
      source: '1735721434573'
      sourceHandle: source
      target: '1735721434574'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: è¾“å…¥ä¾›åº”å•†æœç´¢ç»“æœä¿¡æ¯
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: æ¨èä¾›åº”å•†åˆ—è¡¨
          max_length: 5000
          required: true
          type: paragraph
          variable: suppliers_list
        - label: äº§å“è§„æ ¼ä¿¡æ¯
          max_length: 2000
          required: true
          type: paragraph
          variable: product_specs
        - label: éœ€æ±‚æ•°é‡
          required: true
          type: number
          variable: quantity_needed
        - default: 7
          label: æœŸæœ›äº¤æœŸ(å¤©)
          required: true
          type: number
          variable: delivery_days
      height: 116
      id: '1735721434567'
      position:
        x: 80
        y: 50
      positionAbsolute:
        x: 80
        y: 50
      selected: false
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: æ ¹æ®ä¾›åº”å•†è´¨é‡ã€ä»·æ ¼ç­‰å› ç´ è¿›è¡Œä¼˜å…ˆçº§æ’åº
        model:
          completion_params:
            temperature: 0.2
          mode: chat
          name: gpt-4
          provider: openai
        prompt_template:
        - role: system
          text: |-
            ä½ æ˜¯ä¸“ä¸šçš„ä¾›åº”å•†è¯„ä¼°ä¸“å®¶ã€‚è¯·æ ¹æ®ä»¥ä¸‹è¯„ä¼°æ ‡å‡†å¯¹ä¾›åº”å•†è¿›è¡Œä¼˜å…ˆçº§æ’åºï¼š

            è¯„ä¼°æ ‡å‡†ï¼ˆæƒé‡ï¼‰ï¼š
            1. äº§å“åŒ¹é…åº¦ï¼ˆ30%ï¼‰- äº§å“è§„æ ¼ã€è´¨é‡ã€å¤–è§‚åŒ¹é…ç¨‹åº¦
            2. ä¾›åº”å•†ä¿¡èª‰ï¼ˆ25%ï¼‰- è¯„åˆ†ã€è®¤è¯ã€äº¤æ˜“å†å²
            3. ä»·æ ¼ç«äº‰åŠ›ï¼ˆ20%ï¼‰- æŠ¥ä»·åˆç†æ€§ã€æ€§ä»·æ¯”
            4. å“åº”é€Ÿåº¦ï¼ˆ15%ï¼‰- å®¢æœå“åº”æ—¶é—´ã€æ²Ÿé€šæ•ˆç‡
            5. äº¤æœŸä¿éšœï¼ˆ10%ï¼‰- åº“å­˜æƒ…å†µã€ç”Ÿäº§å‘¨æœŸ

            è¾“å‡ºè¦æ±‚ï¼š
            1. æŒ‰ä¼˜å…ˆçº§æ’åºçš„ä¾›åº”å•†åˆ—è¡¨ï¼ˆå‰10åï¼‰
            2. æ¯ä¸ªä¾›åº”å•†çš„è¯„åˆ†ç†ç”±
            3. é£é™©æç¤º
            4. å»ºè®®çš„è¯¢ä»·ç­–ç•¥

            ä»¥JSONæ ¼å¼è¿”å›ç»“æœã€‚
        - role: user
          text: |-
            ä¾›åº”å•†æœç´¢ç»“æœï¼š{{#1735721434567.suppliers_list#}}

            äº§å“è§„æ ¼è¦æ±‚ï¼š{{#1735721434567.product_specs#}}

            è¯·è¿›è¡Œä¾›åº”å•†ä¼˜å…ˆçº§æ’åºã€‚
        selected: false
        title: ä¾›åº”å•†ä¼˜å…ˆçº§æ’åº
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 54
      id: '1735721434568'
      position:
        x: 384
        y: 50
      positionAbsolute:
        x: 384
        y: 50
      selected: false
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ä¸ºä¸åŒç±»å‹ä¾›åº”å•†ç”Ÿæˆä¸“ä¸šè¯¢ä»·æ¨¡æ¿
        model:
          completion_params:
            temperature: 0.3
          mode: chat
          name: gpt-4
          provider: openai
        prompt_template:
        - role: system
          text: |-
            ä½ æ˜¯ä¸“ä¸šçš„B2Bè¯¢ä»·ä¸“å®¶ã€‚æ ¹æ®ä¾›åº”å•†ç±»å‹å’Œäº§å“ç‰¹ç‚¹ï¼Œç”Ÿæˆä¸“ä¸šçš„è¯¢ä»·æ¨¡æ¿ï¼š

            è¯¢ä»·æ¨¡æ¿è¦åŒ…å«ï¼š
            1. å‹å¥½çš„å¼€åœºç™½
            2. å…¬å¸ç®€ä»‹å’Œé‡‡è´­èƒŒæ™¯
            3. äº§å“è¯¦ç»†è§„æ ¼è¦æ±‚
            4. æ•°é‡å’Œäº¤æœŸè¦æ±‚
            5. è´¨é‡æ ‡å‡†å’Œè®¤è¯è¦æ±‚
            6. åŒ…è£…å’Œè¿è¾“è¦æ±‚
            7. ä»˜æ¬¾æ–¹å¼åå¥½
            8. æœŸæœ›çš„å›å¤æ—¶é—´
            9. åç»­åˆä½œå±•æœ›

            æ¨¡æ¿é£æ ¼ï¼š
            - å·¥å‚ç±»ä¾›åº”å•†ï¼šå¼ºè°ƒæŠ€æœ¯è§„æ ¼ã€ç”Ÿäº§èƒ½åŠ›
            - è´¸æ˜“å•†ï¼šå¼ºè°ƒæœåŠ¡è´¨é‡ã€ä»·æ ¼ä¼˜åŠ¿
            - å“ç‰Œå•†ï¼šå¼ºè°ƒå“ç‰Œåˆä½œã€é•¿æœŸå…³ç³»

            è¯·ç”Ÿæˆ3ä¸ªä¸åŒé£æ ¼çš„è¯¢ä»·æ¨¡æ¿ã€‚
        - role: user
          text: |-
            æ’åºåçš„ä¾›åº”å•†ä¿¡æ¯ï¼š{{#1735721434568.text#}}

            äº§å“è§„æ ¼ï¼š{{#1735721434567.product_specs#}}
            éœ€æ±‚æ•°é‡ï¼š{{#1735721434567.quantity_needed#}}
            æœŸæœ›äº¤æœŸï¼š{{#1735721434567.delivery_days#}}å¤©

            è¯·ç”Ÿæˆè¯¢ä»·æ¨¡æ¿ã€‚
        selected: false
        title: è¯¢ä»·æ¨¡æ¿ç”Ÿæˆ
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 54
      id: '1735721434569'
      position:
        x: 688
        y: 50
      positionAbsolute:
        x: 688
        y: 50
      selected: false
      type: custom
      width: 244
    - data:
        authorization:
          config: null
          type: no-auth
        body:
          data: |-
            {
              "suppliers": "{{#1735721434568.text#}}",
              "inquiry_templates": "{{#1735721434569.text#}}",
              "send_method": "batch",
              "track_replies": true,
              "timeout_hours": 24
            }
          type: json
        desc: æ‰¹é‡å‘é€è¯¢ä»·å¹¶å¼€å§‹ç›‘æ§ä¾›åº”å•†å›å¤
        headers: 'Content-Type: application/json'
        method: post
        params: ''
        selected: false
        timeout:
          connect: 30
          read: 60
          write: 60
        title: å‘é€è¯¢ä»·ç›‘æ§å›å¤
        type: http-request
        url: http://localhost:5001/api/inquiry/send-and-monitor
        variables: []
      height: 54
      id: '1735721434570'
      position:
        x: 992
        y: 50
      positionAbsolute:
        x: 992
        y: 50
      selected: false
      type: custom
      width: 244
    - data:
        cases:
        - case_id: has_replies
          conditions:
          - comparison_operator: contains
            id: condition-has-replies-1
            value: success
            variable_selector:
            - '1735721434570'
            - body
          id: has_replies
          logical_operator: and
        desc: åˆ¤æ–­æ˜¯å¦æœ‰ä¾›åº”å•†å›å¤
        logical_operator: and
        selected: false
        title: å›å¤çŠ¶æ€åˆ¤æ–­
        type: if-else
      height: 126
      id: '1735721434571'
      position:
        x: 1296
        y: 50
      positionAbsolute:
        x: 1296
        y: 50
      selected: false
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: åˆ†æä¾›åº”å•†å›å¤å†…å®¹ï¼Œæå–å…³é”®ä¿¡æ¯
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: gpt-4
          provider: openai
        prompt_template:
        - role: system
          text: |-
            ä½ æ˜¯ä¸“ä¸šçš„ä¾›åº”å•†å›å¤åˆ†æå¸ˆã€‚è¯·åˆ†æä¾›åº”å•†çš„å›å¤å†…å®¹ï¼Œæå–ä»¥ä¸‹å…³é”®ä¿¡æ¯ï¼š

            æå–ä¿¡æ¯ï¼š
            1. æŠ¥ä»·ä¿¡æ¯ï¼ˆå•ä»·ã€æ€»ä»·ã€ä»·æ ¼é˜¶æ¢¯ï¼‰
            2. äº§å“è§„æ ¼ç¡®è®¤æƒ…å†µ
            3. äº¤æœŸæ‰¿è¯º
            4. æœ€å°è®¢è´­é‡(MOQ)
            5. ä»˜æ¬¾æ¡ä»¶
            6. åŒ…è£…æ–¹å¼
            7. è¿è¾“æ–¹æ¡ˆ
            8. è´¨é‡ä¿è¯
            9. æ ·å“æ”¿ç­–
            10. ç‰¹æ®Šè¦æ±‚çš„å›åº”

            åˆ†æç»“æœï¼š
            1. å›å¤è´¨é‡è¯„åˆ†ï¼ˆ1-10åˆ†ï¼‰
            2. ä¿¡æ¯å®Œæ•´åº¦è¯„ä¼°
            3. ä»·æ ¼ç«äº‰åŠ›åˆ†æ
            4. é£é™©æç¤º
            5. å»ºè®®åç»­è¡ŒåŠ¨

            ä»¥ç»“æ„åŒ–JSONæ ¼å¼è¿”å›åˆ†æç»“æœã€‚
        - role: user
          text: |-
            ä¾›åº”å•†å›å¤ä¿¡æ¯ï¼š{{#1735721434570.body#}}

            è¯·åˆ†æå›å¤å†…å®¹å¹¶æå–å…³é”®ä¿¡æ¯ã€‚
        selected: false
        title: å›å¤å†…å®¹åˆ†æ
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 54
      id: '1735721434572'
      position:
        x: 1600
        y: 150
      positionAbsolute:
        x: 1600
        y: 150
      selected: false
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ç”Ÿæˆè·Ÿè¿›æ–¹æ¡ˆå’Œä¸‹ä¸€æ­¥è¡ŒåŠ¨è®¡åˆ’
        model:
          completion_params:
            temperature: 0.3
          mode: chat
          name: gpt-4
          provider: openai
        prompt_template:
        - role: system
          text: |-
            ä½ æ˜¯å®¢æˆ·è·Ÿè¿›ç­–ç•¥ä¸“å®¶ã€‚åŸºäºå½“å‰æƒ…å†µç”Ÿæˆè·Ÿè¿›æ–¹æ¡ˆï¼š

            è·Ÿè¿›ç­–ç•¥ï¼š
            1. å¯¹æœªå›å¤ä¾›åº”å•†çš„å‚¬ä¿ƒæ¨¡æ¿
            2. å¯¹å·²å›å¤ä¾›åº”å•†çš„æ·±åº¦è¯¢é—®
            3. ä»·æ ¼è°ˆåˆ¤ç­–ç•¥
            4. æ ·å“ç”³è¯·å»ºè®®
            5. è´¨é‡ç¡®è®¤æ–¹æ¡ˆ

            è¾“å‡ºå†…å®¹ï¼š
            1. è·Ÿè¿›æ—¶é—´å®‰æ’
            2. æ²Ÿé€šé‡ç‚¹å’Œè¯æœ¯
            3. é£é™©æ§åˆ¶æªæ–½
            4. å†³ç­–èŠ‚ç‚¹è®¾ç½®
            5. å¤‡é€‰æ–¹æ¡ˆå‡†å¤‡

            ä»¥å®ç”¨çš„è¡ŒåŠ¨æŒ‡å—æ ¼å¼è¿”å›ã€‚
        - role: user
          text: |-
            å‘é€çŠ¶æ€ï¼š{{#1735721434570.body#}}

            è¯·ç”Ÿæˆè·Ÿè¿›ç­–ç•¥å’Œè¡ŒåŠ¨è®¡åˆ’ã€‚
        selected: false
        title: è·Ÿè¿›ç­–ç•¥åˆ¶å®š
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 54
      id: '1735721434573'
      position:
        x: 1600
        y: 350
      positionAbsolute:
        x: 1600
        y: 350
      selected: false
      type: custom
      width: 244
    - data:
        desc: è¾“å‡ºæ²Ÿé€šç»“æœå’Œä¸‹ä¸€æ­¥è¡ŒåŠ¨
        outputs:
        - value_selector:
          - '1735721434568'
          - text
          variable: supplier_ranking
        - value_selector:
          - '1735721434569'
          - text
          variable: inquiry_templates
        - value_selector:
          - '1735721434572'
          - text
          variable: reply_analysis
        - value_selector:
          - '1735721434573'
          - text
          variable: follow_up_strategy
        selected: false
        title: ç»“æŸ
        type: end
      height: 90
      id: '1735721434574'
      position:
        x: 1904
        y: 250
      positionAbsolute:
        x: 1904
        y: 250
      selected: false
      type: custom
      width: 244
  notes: ''