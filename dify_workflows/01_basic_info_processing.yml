app:
  description: å®ç°ä»æŠ¥ä»·ç³»ç»Ÿè‡ªåŠ¨å¯¼å‡ºåŸºç¡€ä¿¡æ¯å¹¶æ™ºèƒ½åˆ†é…ç»™æŠ¥ä»·å‘˜
  icon: ğŸ”„
  icon_background: '#FFEAD5'
  mode: workflow
  name: åŸºç¡€ä¿¡æ¯å¤„ç†æ¨¡å—

kind: app
version: 0.1.1

workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
    opening_statement: ''
    retriever_resource:
      enabled: false
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        isInIteration: false
        sourceType: start
        targetType: http-request
      id: 1735721234567-source-1735721234568-target
      source: '1735721234567'
      sourceHandle: source
      target: '1735721234568'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: llm
      id: 1735721234568-source-1735721234569-target
      source: '1735721234568'
      sourceHandle: source
      target: '1735721234569'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: llm
      id: 1735721234569-source-1735721234570-target
      source: '1735721234569'
      sourceHandle: source
      target: '1735721234570'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: llm
        targetType: http-request
      id: 1735721234570-source-1735721234571-target
      source: '1735721234570'
      sourceHandle: source
      target: '1735721234571'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        sourceType: http-request
        targetType: end
      id: 1735721234571-source-1735721234572-target
      source: '1735721234571'
      sourceHandle: source
      target: '1735721234572'
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: è¾“å…¥æŠ¥ä»·ä»»åŠ¡ä¿¡æ¯
        selected: false
        title: å¼€å§‹
        type: start
        variables:
        - label: æŠ¥ä»·ç³»ç»ŸURL
          max_length: 500
          required: true
          type: text-input
          variable: quote_system_url
        - default: ä¸­
          label: ä»»åŠ¡ä¼˜å…ˆçº§
          options:
          - é«˜
          - ä¸­
          - ä½
          required: true
          type: select
          variable: task_priority
      height: 116
      id: '1735721234567'
      position:
        x: 80
        y: 50
      positionAbsolute:
        x: 80
        y: 50
      selected: false
      type: custom
      width: 244
    - data:
        authorization:
          config:
            api_key: '{{#sys.api_key#}}'
          type: api-key
        body:
          data: ''
          type: none
        desc: ä»æŠ¥ä»·ç³»ç»Ÿè‡ªåŠ¨å¯¼å‡ºåŸºç¡€ä¿¡æ¯
        headers: 'Content-Type: application/json'
        method: get
        params: ''
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: æ•°æ®æå–
        type: http-request
        url: '{{#1735721234567.quote_system_url#}}'
        variables: []
      height: 54
      id: '1735721234568'
      position:
        x: 384
        y: 50
      positionAbsolute:
        x: 384
        y: 50
      selected: false
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: è§£ææå–çš„åŸºç¡€ä¿¡æ¯
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: gpt-4
          provider: openai
        prompt_template:
        - role: system
          text: |-
            ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æŠ¥ä»·ä¿¡æ¯è§£æåŠ©æ‰‹ã€‚è¯·è§£æä»æŠ¥ä»·ç³»ç»Ÿæå–çš„åŸå§‹æ•°æ®ï¼Œæå–ä»¥ä¸‹å…³é”®ä¿¡æ¯ï¼š
            1. äº§å“åç§°å’Œæè¿°
            2. å®¢æˆ·ä¿¡æ¯
            3. éœ€æ±‚æ•°é‡
            4. äº¤æœŸè¦æ±‚
            5. ç‰¹æ®Šè¦æ±‚

            è¯·ä»¥JSONæ ¼å¼è¿”å›è§£æç»“æœã€‚
        - role: user
          text: |-
            åŸå§‹æ•°æ®ï¼š{{#1735721234568.body#}}

            è¯·è§£æä¸Šè¿°æ•°æ®å¹¶æå–å…³é”®ä¿¡æ¯ã€‚
        selected: false
        title: ä¿¡æ¯è§£æ
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 54
      id: '1735721234569'
      position:
        x: 688
        y: 50
      positionAbsolute:
        x: 688
        y: 50
      selected: false
      type: custom
      width: 244
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: æ ¹æ®äº§å“ç±»å‹å’ŒæŠ¥ä»·å‘˜ä¸“é•¿æ™ºèƒ½åˆ†é…ä»»åŠ¡
        model:
          completion_params:
            temperature: 0.2
          mode: chat
          name: gpt-4
          provider: openai
        prompt_template:
        - role: system
          text: |-
            ä½ æ˜¯æŠ¥ä»·ä»»åŠ¡åˆ†é…ä¸“å®¶ã€‚æ ¹æ®ä»¥ä¸‹æŠ¥ä»·å‘˜ä¿¡æ¯å’Œäº§å“ç‰¹ç‚¹ï¼Œé€‰æ‹©æœ€é€‚åˆçš„æŠ¥ä»·å‘˜ï¼š

            æŠ¥ä»·å‘˜åˆ—è¡¨ï¼š
            1. å¼ ä¸‰ - ä¸“é•¿ï¼šç”µå­äº§å“ï¼Œç»éªŒå€¼ï¼š95ï¼Œå½“å‰å·¥ä½œé‡ï¼š60%
            2. æå›› - ä¸“é•¿ï¼šæœè£…çººç»‡ï¼Œç»éªŒå€¼ï¼š88ï¼Œå½“å‰å·¥ä½œé‡ï¼š40%
            3. ç‹äº” - ä¸“é•¿ï¼šæœºæ¢°é…ä»¶ï¼Œç»éªŒå€¼ï¼š92ï¼Œå½“å‰å·¥ä½œé‡ï¼š80%
            4. èµµå…­ - ä¸“é•¿ï¼šåŒ–å¦†å“ï¼Œç»éªŒå€¼ï¼š85ï¼Œå½“å‰å·¥ä½œé‡ï¼š30%

            é€‰æ‹©æ ‡å‡†ï¼š
            - ä¸“ä¸šåŒ¹é…åº¦ï¼ˆæƒé‡40%ï¼‰
            - ç»éªŒå€¼ï¼ˆæƒé‡30%ï¼‰
            - å·¥ä½œé‡ï¼ˆæƒé‡30%ï¼Œä¼˜å…ˆé€‰æ‹©å·¥ä½œé‡è¾ƒä½çš„ï¼‰

            è¯·è¿”å›æœ€é€‚åˆçš„æŠ¥ä»·å‘˜å§“åå’Œåˆ†é…åŸå› ã€‚
        - role: user
          text: |-
            äº§å“ä¿¡æ¯ï¼š{{#1735721234569.text#}}
            ä»»åŠ¡ä¼˜å…ˆçº§ï¼š{{#1735721234567.task_priority#}}

            è¯·åˆ†é…æœ€é€‚åˆçš„æŠ¥ä»·å‘˜ã€‚
        selected: false
        title: æŠ¥ä»·å‘˜åˆ†é…
        type: llm
        variables: []
        vision:
          configs:
            detail: high
          enabled: false
      height: 54
      id: '1735721234570'
      position:
        x: 992
        y: 50
      positionAbsolute:
        x: 992
        y: 50
      selected: false
      type: custom
      width: 244
    - data:
        authorization:
          config:
            api_key: '{{#sys.api_key#}}'
          type: api-key
        body:
          data: |-
            {
              "assignee": "{{#1735721234570.text#}}",
              "task_info": "{{#1735721234569.text#}}",
              "priority": "{{#1735721234567.task_priority#}}",
              "timestamp": "{{#sys.timestamp#}}"
            }
          type: json
        desc: å°†è§£æåçš„ä¿¡æ¯åˆ†é…ç»™é€‰å®šçš„æŠ¥ä»·å‘˜
        headers: 'Content-Type: application/json'
        method: post
        params: ''
        selected: false
        timeout:
          max_connect_timeout: 0
          max_read_timeout: 0
          max_write_timeout: 0
        title: ä»»åŠ¡åˆ†é…
        type: http-request
        url: '{{#sys.internal_api#}}/assign-task'
        variables: []
      height: 54
      id: '1735721234571'
      position:
        x: 1296
        y: 50
      positionAbsolute:
        x: 1296
        y: 50
      selected: false
      type: custom
      width: 244
    - data:
        desc: è¾“å‡ºå¤„ç†ç»“æœ
        outputs:
        - value_selector:
          - '1735721234570'
          - text
          variable: assigned_staff
        - value_selector:
          - '1735721234569'
          - text
          variable: parsed_info
        - value_selector:
          - '1735721234571'
          - body
          variable: assignment_result
        selected: false
        title: ç»“æŸ
        type: end
      height: 90
      id: '1735721234572'
      position:
        x: 1600
        y: 50
      positionAbsolute:
        x: 1600
        y: 50
      selected: false
      type: custom
      width: 244
  notes: '' 